<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ç”¨GitHub Actions è‡ªå‹•åŒ–éƒ¨ç½²blog</title>
    <url>/blog/2023/07/03/deploy-blog-using-github-actions/</url>
    <content><![CDATA[<p>ç¶²è·¯ä¸Šæœ‰å¾ˆå¤šæ€éº¼ç”¨hexo, hugo ç­‰ç­‰æ¶blog çš„æ•™å­¸ï¼Œé€™é‚Šç´€éŒ„ä¸€ä¸‹å¦‚ä½•è‡ªå‹•åŒ–éƒ¨ç½²åˆ° GitHub page ã€‚</p>
<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>é€™éœ€è¦ä¸€é»é»åŸºæœ¬CICD çš„æ¦‚å¿µã€‚åœ¨åµæ¸¬åˆ°æœ‰æ–°çš„commit æ™‚ï¼Œè‡ªå‹•é–‹å•Ÿä¸€å°è™›æ“¬æ©Ÿå™¨ï¼ŒåŸ·è¡Œé å…ˆå¯«å¥½çš„scriptï¼Œå®Œæˆéƒ¨ç½²ã€‚é€™ä¹Ÿå°±æ˜¯GitOpsã€‚</p>
<h1 id="å¦‚ä½•éƒ¨ç½²"><a href="#å¦‚ä½•éƒ¨ç½²" class="headerlink" title="å¦‚ä½•éƒ¨ç½²"></a>å¦‚ä½•éƒ¨ç½²</h1><p>å®˜æ–¹æ•™å­¸ï¼š<a href="https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site%E3%80%82">https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-siteã€‚</a></p>
<p>åœ¨repoé é¢ä¸Šæ‰¾åˆ°settings&#x2F;pagesï¼Œçœ‹åˆ°æœ‰å…©ç¨®æ–¹å¼ï¼š</p>
<ol>
<li>GitHub Actions (beta)</li>
<li>Deploy from a branch</li>
</ol>
<h2 id="GitHub-Actions-beta"><a href="#GitHub-Actions-beta" class="headerlink" title="GitHub Actions (beta)"></a>GitHub Actions (beta)</h2><p>ç¬¬ä¸€å€‹æ˜¯è‡ªå·±å¯«GitHub Actions å°‡éœæ…‹æª”æ¡ˆæ‰“åŒ…å¥½ï¼Œä¸Šå‚³åˆ°GitHub pageã€‚æ¯”è¼ƒé€²éšä¸€é»ï¼Œé©åˆæƒ³è‡ªå·±å¯«æ‰€æœ‰æ­¥é©Ÿçš„äººã€‚æƒ³è‡ªå·±æçš„äººæ‡‰è©²éƒ½æœ‰è¨±å¤šç¶“é©—äº†ï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://github.com/adityatelange/hugo-PaperMod/blob/4a924cef54081b61530a30bd69d442ae95f16561/.github/workflows/gh-pages.yml#L66-L80%E3%80%82">https://github.com/adityatelange/hugo-PaperMod/blob/4a924cef54081b61530a30bd69d442ae95f16561/.github/workflows/gh-pages.yml#L66-L80ã€‚</a></p>
<p>é€™é‚Šéœ€è¦ç”¨åˆ°2å€‹actionsï¼š</p>
<ul>
<li><code>actions/upload-pages-artifact</code></li>
<li><code>actions/deploy-pages</code></li>
</ul>
<p>ä¸²æ¥åœ¨build å¾Œé¢ï¼ŒåŸ·è¡Œæ‰“åŒ…ä¸Šå‚³è·Ÿç™¼ä½ˆé é¢ã€‚</p>
<h2 id="Deploy-from-a-branch"><a href="#Deploy-from-a-branch" class="headerlink" title="Deploy from a branch"></a>Deploy from a branch</h2><p>ç¬¬äºŒå€‹æ˜¯æŠŠéœæ…‹æª”æ¡ˆæ¨ä¸Šrepoï¼Œå¯ä»¥æ”¾åœ¨å¦ä¸€å€‹branch æˆ–æ˜¯åœ¨æŸå€‹å­è³‡æ–™å¤¾è£¡ï¼Œé€™å€‹é¸é …GitHubæœƒå¹«ä½ åŸ·è¡Œç¬¬ä¸€å€‹é¸é …è£¡çš„æ­¥é©Ÿã€‚æ¯”è¼ƒç°¡å–®ï¼Œè€Œä¸”é€™å€‹æ–¹æ³•é‚„å¯ä»¥åˆ‡æ›branch å»æª¢æŸ¥éœæ…‹æª”æ¡ˆï¼Œæ–¹ä¾¿debugï¼Œæ¨è–¦ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°build å¾Œï¼Œæ‰‹å‹•æŠŠéœæ…‹æª”æ¡ˆæ¨ä¸ŠGitHubã€‚é€™é‚Šçš„ç›®æ¨™æ˜¯å¾build åˆ°deploy éƒ½ç”¨GitHub actions å®Œæˆã€‚</p>
<p>é€™å€‹blog çš„repoï¼š<a href="https://github.com/cgjosephlee/blog">https://github.com/cgjosephlee/blog</a> ã€‚Source code æ”¾åœ¨ <code>main</code> branchï¼Œéœæ…‹æª”æ¡ˆæ”¾åœ¨<code>ph-pages</code> branchã€‚</p>
<p>ä»¥hexo ç‚ºä¾‹ï¼Œåœ¨ <code>hexo generate</code> å¾Œæ‰€ç”¢ç”Ÿçš„ <code>./public</code> è£¡é¢å°±æ˜¯ç¶²é çš„éœæ…‹æª”æ¡ˆï¼Œæˆ‘æƒ³æŠŠé€™è£¡é¢çš„å…§å®¹æ¨åˆ° <code>gh-pages</code> branchã€‚ä¹‹å¾Œæˆ‘åªè¦æœ‰æ›´æ–°post markdown fileï¼ŒGitHub actions å°±æœƒè‡ªå‹•build and deployã€‚</p>
<p>å› ç‚ºæ˜¯åœ¨è™›æ“¬æ©Ÿä¸ŠåŸ·è¡Œï¼Œæƒ³åƒåœ¨ä¹¾æ·¨çš„æ©Ÿå™¨ä¸Šï¼Œæ­¥é©Ÿå¯«æˆscript å¤§æ¦‚æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> repo</span><br><span class="line"><span class="built_in">cd</span> repo</span><br><span class="line">npm ci  <span class="comment"># install dependencies</span></span><br><span class="line">npm run build  <span class="comment"># == hexo generate</span></span><br><span class="line"><span class="built_in">cd</span> public</span><br><span class="line"><span class="comment"># git clone ...</span></span><br><span class="line"><span class="comment"># git checkout gh-pages</span></span><br><span class="line"><span class="comment"># git add ...</span></span><br><span class="line"><span class="comment"># git commit ...</span></span><br><span class="line"><span class="comment"># git push ...</span></span><br></pre></td></tr></table></figure>

<p>æœ€å¾Œè¦æ¨åˆ° <code>gh-pages</code> çš„æ­¥é©Ÿæ¯”è¼ƒéº»ç…©ï¼Œé‚„å¥½æœ‰äººå·²ç¶“å¯«æˆaction å¯ä»¥ç›´æ¥å¥—ç”¨äº†ã€‚</p>
<ul>
<li><a href="https://github.com/peaceiris/actions-gh-pages">https://github.com/peaceiris/actions-gh-pages</a></li>
</ul>
<p>å¯«æˆGitHub actions yamlï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">hexo</span> <span class="string">pages</span> <span class="string">to</span> <span class="string">gh-pages</span> <span class="string">branch</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åµæ¸¬mainä¸Šé¢çš„æ”¹å‹•ï¼Œå¯ä»¥å¿½ç•¥ç‰¹å®šæª”æ¡ˆçš„æ”¹å‹•</span></span><br><span class="line"><span class="comment"># é€™è£¡å¿½ç•¥äº†drafts, images</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">paths-ignore:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;source/_drafts/**&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;source/images/**&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">pages:</span>  <span class="comment"># job name</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span>  <span class="comment"># è™›æ“¬æ©Ÿimage</span></span><br><span class="line">    <span class="attr">permissions:</span></span><br><span class="line">      <span class="attr">contents:</span> <span class="string">write</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span>  <span class="comment"># git clone</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/setup-node@v3</span>  <span class="comment"># setup node env</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="number">18</span></span><br><span class="line">          <span class="attr">cache:</span> <span class="string">&#x27;npm&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">npm</span> <span class="string">ci</span>  <span class="comment"># install dependencies</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span>  <span class="comment"># == hexo generate</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v3</span>  <span class="comment"># push ./public to gh-pages branch</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span>  <span class="comment"># ä¸ç”¨ä¿®æ”¹ï¼Œæœƒè‡ªå‹•å–å¾—token</span></span><br><span class="line">          <span class="attr">publish_dir:</span> <span class="string">./public</span></span><br></pre></td></tr></table></figure>

<p>è¨­å®šç´°ç¯€å¯ä»¥çœ‹ <a href="https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions%E3%80%82">https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actionsã€‚</a></p>
<p>æŠŠæª”æ¡ˆæ”¾åœ¨repo è£¡çš„ <code>.github/workflows/deploy.yaml</code>ï¼ˆæª”åéš¨æ„ï¼‰ï¼Œæ¨ä¸ŠGitHub å¾Œï¼Œå°±å®ŒæˆGitHub Actions çš„è¨­å®šäº†ã€‚ä¹‹å¾Œåµæ¸¬åˆ°æ”¹å‹•ï¼ŒGitHub å°±æœƒè‡ªå‹•åŸ·è¡Œyaml è£¡çš„å‹•ä½œï¼Œç„¶å¾Œæ¨åˆ° <code>gh-pages</code> branchã€‚åœ¨Actions tab è£¡é¢å¯ä»¥çœ‹åˆ°åŸ·è¡Œçš„çµæœã€‚</p>
<p>éƒ¨ç½²å®Œæˆå¾Œï¼Œå°±å¯ä»¥åˆ°GitHub page çœ‹ç¶²é å›‰ã€‚</p>
]]></content>
      <categories>
        <category>Development</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>Apple éµç›¤çš„Fn/Globe key</title>
    <url>/blog/2023/07/04/apple-fn-key/</url>
    <content><![CDATA[<p>å‰é™£å­è²·äº†Keychron K3 Pro åœ¨å®¶è£¡ä½¿ç”¨ï¼Œçµæœé‡åˆ°F3, F4 å¤±æ•ˆäº†ã€‚ç ”ç©¶äº†ä¸€ä¸‹æ‰ç™¼ç¾æ˜¯karabiner çš„åŸå› ï¼Œä½†æˆ‘å¤ªä¾è³´karabiner äº†ç„¡æ³•ä¸ç”¨ï¼Œåªå¥½æƒ³å…¶ä»–çš„è§£æ±ºè¾¦æ³•ã€‚ç ”ç©¶çš„éç¨‹ç™¼ç¾Apple éµç›¤æˆ–macbook ä¸Šçš„<code>Fn</code> è·Ÿä¸€èˆ¬éµç›¤çš„<code>Fn</code> å¥½åƒä¸å¤ªä¸€æ¨£ï¼Œé€™é‚Šç´€éŒ„ä¸€ä¸‹ã€‚</p>
<h1 id="ä¸€èˆ¬Fn-key"><a href="#ä¸€èˆ¬Fn-key" class="headerlink" title="ä¸€èˆ¬Fn key"></a>ä¸€èˆ¬Fn key</h1><ul>
<li>ä¸æœƒé€å‡ºkeycodeã€‚</li>
<li>é€šå¸¸æ˜¯åˆ‡æ›éµç›¤çš„layerï¼Œé”åˆ°é€å‡ºä¸åŒçš„keycodeã€‚</li>
<li>åŠŸèƒ½ç‡’åœ¨éµç›¤éŸŒé«”ä¸Šã€‚</li>
</ul>
<h1 id="Apple-Fn-x2F-GlobeğŸŒ-key-apple-fn"><a href="#Apple-Fn-x2F-GlobeğŸŒ-key-apple-fn" class="headerlink" title="Apple Fn&#x2F;GlobeğŸŒ key (apple_fn)"></a>Apple Fn&#x2F;GlobeğŸŒ key (<code>apple_fn</code>)</h1><ul>
<li>æ˜¯ä¸€å€‹æœ‰keycode çš„æŒ‰éµã€‚ <code>&#123;&quot;apple_vendor_top_case_key_code&quot;: &quot;keyboard_fn&quot;&#125;</code></li>
<li>ä¸æ˜¯åˆ‡æ›layerï¼Œæ¯”è¼ƒåƒæ˜¯control é€™ç¨®æ§åˆ¶éµ modifierã€‚</li>
<li>åªæœ‰ç‰¹å®šVID&#x2F;PID çš„éµç›¤ï¼ˆ&#x3D; åŸå» éµç›¤ï¼‰é€å‡ºçš„<code>apple_fn</code>ï¼ŒmacOS æ‰èªå¯ï¼ˆä¸æ„§æ˜¯Appleï¼‰ã€‚</li>
</ul>
<h1 id="Keychron-K3-Pro"><a href="#Keychron-K3-Pro" class="headerlink" title="Keychron K3 Pro"></a>Keychron K3 Pro</h1><ul>
<li>win&#x2F;mac mode å…¶å¯¦åªæ˜¯åˆ‡æ›ä¸åŒlayerã€‚mac (0), mac fn (1), win (2), win fn (3)ï¼Œåªæœ‰å››å±¤ã€‚</li>
<li>mission control (F3) èˆ‡launchpad (F4) å…¶å¯¦æ²’æœ‰é€å‡ºkeycodeï¼Œæ˜¯ç”¨æŸç¨®æ–¹å¼æ¨¡æ“¬ï¼Ÿæˆ–æ˜¯Event Viewer èªä¸å¾—ï¼Ÿ</li>
<li>å› ç‚ºæ²’æœ‰keycodeï¼Œåœ¨ç¶“ékarabiner æ””æˆªå¾Œå°±å¤±æ•ˆäº†ï¼Œæƒ³æ”¹éƒ½æ²’çš„æ”¹ã€‚</li>
<li>ç”¨VIA ä¿®æ”¹ï¼šF3 â†’ <code>C(KC_UP)</code>ï¼ŒF4 â†’ <code>HYPR(KC_SPC)</code>ï¼Œæ¨¡æ“¬çµ„åˆéµ (<a href="https://docs.qmk.fm/#/feature_advanced_keycodes?id=modifier-keys">ref</a>)ã€‚éœ€é¡å¤–ä¿®æ”¹é–‹å•Ÿlaunchpad çš„ç†±éµç‚º <code>cmd+opt+ctrl+shift+space</code>ã€‚</li>
<li>K7 çš„fn2 å¥½åƒå¯ä»¥ç”¨apple_fnï¼Ÿ</li>
</ul>
<h1 id="Niz-mini84"><a href="#Niz-mini84" class="headerlink" title="Niz mini84"></a>Niz mini84</h1><ul>
<li>mac mode ä¸‹æœ‰å…©å€‹Fn keyï¼ŒFn + ï£¿ fnã€‚</li>
<li>win&#x2F;mac mode é€£VID&#x2F;PID éƒ½ä¸ä¸€æ¨£ã€‚</li>
<li>mac mode ç”¨äº†æŸå€‹Apple åŸå» éµç›¤çš„VID&#x2F;PID 0x05ac&#x2F;0x0220 (<a href="https://devicehunt.com/view/type/usb/vendor/05AC/device/0220">link</a>ï¼Œä¸æ€•è¢«å‰å—ï¼Ÿ)ï¼Œæ‰€ä»¥å¯ä»¥é€å‡º<code>apple_fn</code>ã€‚</li>
<li>win mode ä¸‹VID&#x2F;PID æ˜¯ 0x0438&#x2F;0x5235ï¼Œæ˜¯AMDâ€¦? (<a href="https://devicehunt.com/search/type/usb/vendor/0438/device/any">link</a>)</li>
</ul>
<h1 id="Karabiner-Elements"><a href="#Karabiner-Elements" class="headerlink" title="Karabiner Elements"></a>Karabiner Elements</h1><ul>
<li>ç”¨è™›æ“¬éµç›¤æ””æˆªå¯¦é«”éµç›¤çš„keycodeï¼Œä¿®æ”¹å¾Œå†é€çµ¦OSã€‚</li>
<li>å¦‚æœæœ‰ç¶“ékarabinerï¼Œå‰‡VID&#x2F;PID éŒ¯èª¤çš„<code>apple_fn</code> keycode ä¹Ÿå¯ä»¥æ­£å¸¸è§¸ç™¼ (<a href="https://github.com/qmk/qmk_firmware/pull/20643#issuecomment-1529263497">ref</a>)ã€‚</li>
</ul>
<h1 id="QMK"><a href="#QMK" class="headerlink" title="QMK"></a>QMK</h1><ul>
<li>2023.02ï¼Œæ–°å¢äº†mission control (KC_MCTL) èˆ‡ launchpad (KC_LPAD) çš„keycode (<a href="https://github.com/qmk/qmk_firmware/blob/master/data/constants/keycodes/keycodes_0.0.2_basic.hjson">ref</a>)ã€‚</li>
<li>å› ç‚º<code>apple_fn</code> é™åˆ¶VID&#x2F;PIDï¼Œæ‰€ä»¥QMK ç„¡æ³•ä½¿ç”¨é€™å€‹keycode (<a href="https://github.com/qmk/qmk_firmware/pull/20643">ref</a>)ã€‚</li>
<li>ä½†é‚„æ˜¯æœ‰è¾¦æ³•æ”¹ï¼Œåƒè€ƒ <a href="https://gist.github.com/fauxpark/010dcf5d6377c3a71ac98ce37414c6c4">ref</a>ã€‚</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://sspai.com/post/79608">https://sspai.com/post/79608</a></li>
</ul>
]]></content>
      <categories>
        <category>Accessories</category>
      </categories>
      <tags>
        <tag>keyboard</tag>
      </tags>
  </entry>
</search>
